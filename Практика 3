#include <stdio.h>
#include <malloc.h>
int main()
{   
    //Вводим переменную дробного типа с запятой:S-площадь эллипса, a-длина большой полуоси, b - длина малой полуоси
    float a, b, S; 
    //Вводим переменные целого типа: n-число повторений
    int n, i;
    float sum = 0; // вводим счетчик для суммы всех результатов
    // Выводим на экран вопрос
    printf("Какое количество раз рассчитать площадь эллипса?"); 
    // Пользователь вводит число повторений программы
    scanf("%d", &n);
    float array[n];// объявление массива для истории результатов
    //Производится цикл для целого значения i с начальным значением 0; i < n - условие окончания программы; i++ - добавление на единицу.
    for ( i = 0; i < n; i++)
    {
        printf("Введите длину большой полуоси: ");
        scanf("%f", &a);
        printf("Введите длину малой полуоси: ");
        scanf("%f", &b);
        S = 3.14 * a * b; 
        //Расчет формулы
        printf("Площадь эллипса: %.2f \n", S );
        
        array[i] = S;//присваиваем массиву результат 
        sum += S;//сумма всех результатов для дальнейшего расчета среднего арифметического
    }
    printf("\n Среднее арифметическое: %.2f \n ", sum/n );//рассчитываем среднее арифметическое
    
    float num; //вводим переменную для числа(для сравнения)
    int counter1 = 0;//вводим счетчик количества раз минимальных значений
    int counter2 = 0;//вводим счетчик количества раз максимальных значений
    float *aS;//вводим указатель
    aS = array;
    printf("История результатов:");
    for ( i = 0; i < n; i++)
    {
        printf(" %.2f ", *(aS+i));//записываем историю результатов
    }
    printf("\n Введите число для сравнения: ");
    scanf("%f", &num);
    for(i = 0; i < n; i++)
    {
        if( *(aS+i) < num)//проверяем, меньше ли каждый элемент указателя
        {
            printf("%.2f ", *(aS+i));//выводим список элементов
            counter1 += 1;
        }
    }
    printf ("\n Количество элементов массива, которые меньше введенного числа:%i \n", counter1);
    
    for(i = 0; i < n; i++)
    {
        if( *(aS+i) > num)//проверяем, больше ли каждый элемент указателя
        {
            printf("%.2f ", *(aS+i));//выводим список элементов
            counter2 += 1;
        }
    }
    printf ("\n Количество элементов массива, которые больше введенного числа: %i", counter2);
}
